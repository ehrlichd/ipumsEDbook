<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lesson 7 Exploratory analysis | Data Science for Social Scientists: An applied course using IPUMS data</title>
  <meta name="description" content="This is an open source book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Lesson 7 Exploratory analysis | Data Science for Social Scientists: An applied course using IPUMS data" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is an open source book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="ehrlichd/ipumsEDbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson 7 Exploratory analysis | Data Science for Social Scientists: An applied course using IPUMS data" />
  
  <meta name="twitter:description" content="This is an open source book. The output format for this example is bookdown::gitbook." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lesson-6-introduction-to-ipums.html"/>
<link rel="next" href="lesosn-8-hypothesis-testing.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"> ipumsEDbook </a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-make-this-course"><i class="fa fa-check"></i>Why make this course</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-is-ipums"><i class="fa fa-check"></i>What is IPUMS</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-is-r"><i class="fa fa-check"></i>What is R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
<li class="chapter" data-level="" data-path="course-description.html"><a href="course-description.html"><i class="fa fa-check"></i>Course Description</a>
<ul>
<li class="chapter" data-level="" data-path="course-description.html"><a href="course-description.html#course-aims"><i class="fa fa-check"></i>Course Aims</a></li>
<li class="chapter" data-level="" data-path="course-description.html"><a href="course-description.html#learning-outcomes"><i class="fa fa-check"></i>Learning Outcomes</a></li>
<li class="chapter" data-level="" data-path="course-description.html"><a href="course-description.html#guiding-principles"><i class="fa fa-check"></i>Guiding Principles</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="syllabus---general.html"><a href="syllabus---general.html"><i class="fa fa-check"></i>Syllabus - General</a></li>
<li class="chapter" data-level="" data-path="syllabus---detailed.html"><a href="syllabus---detailed.html"><i class="fa fa-check"></i>Syllabus - Detailed</a>
<ul>
<li class="chapter" data-level="" data-path="syllabus---detailed.html"><a href="syllabus---detailed.html#unit-1-understanding-and-testing-data"><i class="fa fa-check"></i>Unit 1 Understanding and Testing Data</a></li>
<li class="chapter" data-level="" data-path="syllabus---detailed.html"><a href="syllabus---detailed.html#unit-2-finding-data-and-asking-questions-using-ipums-data"><i class="fa fa-check"></i>Unit 2 Finding Data and Asking Questions (Using IPUMS Data)</a></li>
<li class="chapter" data-level="" data-path="syllabus---detailed.html"><a href="syllabus---detailed.html#unit-3-discussing-data-and-student-research"><i class="fa fa-check"></i>Unit 3 Discussing Data and Student Research</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="unit-1-the-basics.html"><a href="unit-1-the-basics.html"><i class="fa fa-check"></i>Unit 1: The Basics</a></li>
<li class="chapter" data-level="1" data-path="unit1_ch1.html"><a href="unit1_ch1.html"><i class="fa fa-check"></i><b>1</b> WHAT IS DATA</a>
<ul>
<li class="chapter" data-level="1.1" data-path="engage.html"><a href="engage.html"><i class="fa fa-check"></i><b>1.1</b> Engage</a></li>
<li class="chapter" data-level="1.2" data-path="explore.html"><a href="explore.html"><i class="fa fa-check"></i><b>1.2</b> Explore</a></li>
<li class="chapter" data-level="1.3" data-path="explain.html"><a href="explain.html"><i class="fa fa-check"></i><b>1.3</b> Explain</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="explain.html"><a href="explain.html#what-are-data"><i class="fa fa-check"></i><b>1.3.1</b> WHAT ARE DATA</a></li>
<li class="chapter" data-level="1.3.2" data-path="explain.html"><a href="explain.html#collecting-data"><i class="fa fa-check"></i><b>1.3.2</b> COLLECTING DATA</a></li>
<li class="chapter" data-level="1.3.3" data-path="explain.html"><a href="explain.html#populations-and-sampling"><i class="fa fa-check"></i><b>1.3.3</b> POPULATIONS AND SAMPLING</a></li>
<li class="chapter" data-level="1.3.4" data-path="explain.html"><a href="explain.html#study-design-considerantions---bias"><i class="fa fa-check"></i><b>1.3.4</b> Study Design Considerantions - Bias</a></li>
<li class="chapter" data-level="1.3.5" data-path="explain.html"><a href="explain.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>1.3.5</b> EXPLORATORY DATA ANALYSIS</a></li>
<li class="chapter" data-level="1.3.6" data-path="explain.html"><a href="explain.html#exploring-height"><i class="fa fa-check"></i><b>1.3.6</b> Exploring height</a></li>
<li class="chapter" data-level="1.3.7" data-path="explain.html"><a href="explain.html#mean-height"><i class="fa fa-check"></i><b>1.3.7</b> Mean height</a></li>
<li class="chapter" data-level="1.3.8" data-path="explain.html"><a href="explain.html#median-height"><i class="fa fa-check"></i><b>1.3.8</b> Median height</a></li>
<li class="chapter" data-level="1.3.9" data-path="explain.html"><a href="explain.html#modal-height"><i class="fa fa-check"></i><b>1.3.9</b> Modal height</a></li>
<li class="chapter" data-level="1.3.10" data-path="explain.html"><a href="explain.html#range"><i class="fa fa-check"></i><b>1.3.10</b> Range</a></li>
<li class="chapter" data-level="1.3.11" data-path="explain.html"><a href="explain.html#outliers"><i class="fa fa-check"></i><b>1.3.11</b> Outliers</a></li>
<li class="chapter" data-level="1.3.12" data-path="explain.html"><a href="explain.html#find-outliers"><i class="fa fa-check"></i><b>1.3.12</b> Find Outliers</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="elaborate.html"><a href="elaborate.html"><i class="fa fa-check"></i><b>1.4</b> Elaborate</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="elaborate.html"><a href="elaborate.html#your-turn"><i class="fa fa-check"></i><b>1.4.1</b> Your Turn!</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="evaluateexercises.html"><a href="evaluateexercises.html"><i class="fa fa-check"></i><b>1.5</b> Evaluate/Exercises</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="evaluateexercises.html"><a href="evaluateexercises.html#context"><i class="fa fa-check"></i><b>1.5.1</b> Context:</a></li>
<li class="chapter" data-level="1.5.2" data-path="evaluateexercises.html"><a href="evaluateexercises.html#questions"><i class="fa fa-check"></i><b>1.5.2</b> Questions:</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>1.6</b> GLOSSARY</a></li>
<li class="chapter" data-level="1.7" data-path="additional-content.html"><a href="additional-content.html"><i class="fa fa-check"></i><b>1.7</b> Additional Content</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="visualizing-data.html"><a href="visualizing-data.html"><i class="fa fa-check"></i><b>2</b> Visualizing Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="engage-1.html"><a href="engage-1.html"><i class="fa fa-check"></i><b>2.1</b> Engage</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="engage-1.html"><a href="engage-1.html#vis-1"><i class="fa fa-check"></i><b>2.1.1</b> Vis 1</a></li>
<li class="chapter" data-level="2.1.2" data-path="engage-1.html"><a href="engage-1.html#vis-2"><i class="fa fa-check"></i><b>2.1.2</b> Vis 2</a></li>
<li class="chapter" data-level="2.1.3" data-path="engage-1.html"><a href="engage-1.html#vis-3"><i class="fa fa-check"></i><b>2.1.3</b> Vis 3</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="explore-1.html"><a href="explore-1.html"><i class="fa fa-check"></i><b>2.2</b> Explore</a></li>
<li class="chapter" data-level="2.3" data-path="explain-1.html"><a href="explain-1.html"><i class="fa fa-check"></i><b>2.3</b> Explain</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="explain-1.html"><a href="explain-1.html#single-variable---continuous"><i class="fa fa-check"></i><b>2.3.1</b> Single Variable - Continuous</a></li>
<li class="chapter" data-level="2.3.2" data-path="explain-1.html"><a href="explain-1.html#single-variable---categorical"><i class="fa fa-check"></i><b>2.3.2</b> Single Variable - Categorical</a></li>
<li class="chapter" data-level="2.3.3" data-path="explain-1.html"><a href="explain-1.html#multi-variable---continuous"><i class="fa fa-check"></i><b>2.3.3</b> Multi variable - continuous</a></li>
<li class="chapter" data-level="2.3.4" data-path="explain-1.html"><a href="explain-1.html#mutli-variable---mixed"><i class="fa fa-check"></i><b>2.3.4</b> Mutli variable - mixed</a></li>
<li class="chapter" data-level="2.3.5" data-path="explain-1.html"><a href="explain-1.html#data-tables"><i class="fa fa-check"></i><b>2.3.5</b> Data Tables</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="elaborate-1.html"><a href="elaborate-1.html"><i class="fa fa-check"></i><b>2.4</b> Elaborate</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="elaborate-1.html"><a href="elaborate-1.html#making-visualizations-in-r"><i class="fa fa-check"></i><b>2.4.1</b> Making visualizations in R</a></li>
<li class="chapter" data-level="2.4.2" data-path="elaborate-1.html"><a href="elaborate-1.html#which-visualization-is-best-for-my-data-things-to-consider"><i class="fa fa-check"></i><b>2.4.2</b> Which visualization is best for my data? Things to consider</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="evaluateexercises-1.html"><a href="evaluateexercises-1.html"><i class="fa fa-check"></i><b>2.5</b> Evaluate/Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="describing-data.html"><a href="describing-data.html"><i class="fa fa-check"></i><b>3</b> Describing Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="engage-2.html"><a href="engage-2.html"><i class="fa fa-check"></i><b>3.1</b> Engage</a></li>
<li class="chapter" data-level="3.2" data-path="explore-2.html"><a href="explore-2.html"><i class="fa fa-check"></i><b>3.2</b> Explore</a></li>
<li class="chapter" data-level="3.3" data-path="explain---lectureread.html"><a href="explain---lectureread.html"><i class="fa fa-check"></i><b>3.3</b> Explain - lecture/read</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="explain---lectureread.html"><a href="explain---lectureread.html#how-do-we-describe-data---summary-statistics"><i class="fa fa-check"></i><b>3.3.1</b> How do we describe data - summary statistics</a></li>
<li class="chapter" data-level="3.3.2" data-path="explain---lectureread.html"><a href="explain---lectureread.html#how-do-we-describe-the-distribution-of-data"><i class="fa fa-check"></i><b>3.3.2</b> How do we describe the distribution of data</a></li>
<li class="chapter" data-level="3.3.3" data-path="explain---lectureread.html"><a href="explain---lectureread.html#how-do-we-manipulate-data"><i class="fa fa-check"></i><b>3.3.3</b> How do we manipulate data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="normality.html"><a href="normality.html"><i class="fa fa-check"></i><b>3.4</b> Normality</a></li>
<li class="chapter" data-level="3.5" data-path="elaborate-2.html"><a href="elaborate-2.html"><i class="fa fa-check"></i><b>3.5</b> Elaborate</a></li>
<li class="chapter" data-level="3.6" data-path="evaluateexercises-2.html"><a href="evaluateexercises-2.html"><i class="fa fa-check"></i><b>3.6</b> Evaluate/Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="hypothesis-testing---comparison-and-correlations.html"><a href="hypothesis-testing---comparison-and-correlations.html"><i class="fa fa-check"></i><b>4</b> Hypothesis Testing - Comparison and Correlations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="engage-3.html"><a href="engage-3.html"><i class="fa fa-check"></i><b>4.1</b> Engage</a></li>
<li class="chapter" data-level="4.2" data-path="explore-3.html"><a href="explore-3.html"><i class="fa fa-check"></i><b>4.2</b> Explore</a></li>
<li class="chapter" data-level="4.3" data-path="explain---lectureread-1.html"><a href="explain---lectureread-1.html"><i class="fa fa-check"></i><b>4.3</b> Explain - lecture/read</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="explain---lectureread-1.html"><a href="explain---lectureread-1.html#why-2-groups"><i class="fa fa-check"></i><b>4.3.1</b> Why 2 groups?</a></li>
<li class="chapter" data-level="4.3.2" data-path="explain---lectureread-1.html"><a href="explain---lectureread-1.html#common-tests-to-compare-2-groups"><i class="fa fa-check"></i><b>4.3.2</b> Common tests to compare 2 groups</a></li>
<li class="chapter" data-level="4.3.3" data-path="explain---lectureread-1.html"><a href="explain---lectureread-1.html#correlations"><i class="fa fa-check"></i><b>4.3.3</b> Correlation(s)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="elaborate-3.html"><a href="elaborate-3.html"><i class="fa fa-check"></i><b>4.4</b> Elaborate</a></li>
<li class="chapter" data-level="4.5" data-path="evaluateexercises-3.html"><a href="evaluateexercises-3.html"><i class="fa fa-check"></i><b>4.5</b> Evaluate/Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="hypothesis-testing---anova-and-lm.html"><a href="hypothesis-testing---anova-and-lm.html"><i class="fa fa-check"></i><b>5</b> Hypothesis Testing - ANOVA and LM</a>
<ul>
<li class="chapter" data-level="5.1" data-path="engage-4.html"><a href="engage-4.html"><i class="fa fa-check"></i><b>5.1</b> Engage</a></li>
<li class="chapter" data-level="5.2" data-path="explore-4.html"><a href="explore-4.html"><i class="fa fa-check"></i><b>5.2</b> Explore</a></li>
<li class="chapter" data-level="5.3" data-path="explain---lectureread-2.html"><a href="explain---lectureread-2.html"><i class="fa fa-check"></i><b>5.3</b> Explain - lecture/read</a></li>
<li class="chapter" data-level="5.4" data-path="elaborate-4.html"><a href="elaborate-4.html"><i class="fa fa-check"></i><b>5.4</b> Elaborate</a></li>
<li class="chapter" data-level="5.5" data-path="evaluateexercises-4.html"><a href="evaluateexercises-4.html"><i class="fa fa-check"></i><b>5.5</b> Evaluate/Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="unit-2-ipums.html"><a href="unit-2-ipums.html"><i class="fa fa-check"></i>Unit 2: IPUMS</a></li>
<li class="chapter" data-level="" data-path="unit-3-independent-research.html"><a href="unit-3-independent-research.html"><i class="fa fa-check"></i>Unit 3: Independent Research</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="appendix-1-intro-to-rrstudio.html"><a href="appendix-1-intro-to-rrstudio.html"><i class="fa fa-check"></i>Appendix 1: Intro to R/Rstudio</a>
<ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i>Basics</a>
<ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#r-vs-rstudio"><i class="fa fa-check"></i>R vs RStudio</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#rstudio-vs-posit"><i class="fa fa-check"></i>RStudio vs POSIT</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="how-to-install.html"><a href="how-to-install.html"><i class="fa fa-check"></i>How to install</a>
<ul>
<li class="chapter" data-level="5.5.3" data-path="how-to-install.html"><a href="how-to-install.html#r-rstudio"><i class="fa fa-check"></i><b>5.5.3</b> R, RStudio</a></li>
<li class="chapter" data-level="" data-path="how-to-install.html"><a href="how-to-install.html#beyond-base-r"><i class="fa fa-check"></i>Beyond Base R</a></li>
<li class="chapter" data-level="5.5.4" data-path="how-to-install.html"><a href="how-to-install.html#ipumsedbook"><i class="fa fa-check"></i><b>5.5.4</b> ipumsEDbook</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="navigating-rstudio.html"><a href="navigating-rstudio.html"><i class="fa fa-check"></i>Navigating RStudio</a>
<ul>
<li class="chapter" data-level="5.5.5" data-path="navigating-rstudio.html"><a href="navigating-rstudio.html#console"><i class="fa fa-check"></i><b>5.5.5</b> Console</a></li>
<li class="chapter" data-level="5.5.6" data-path="navigating-rstudio.html"><a href="navigating-rstudio.html#environments-the-2nd-pane"><i class="fa fa-check"></i><b>5.5.6</b> Environments (The 2nd Pane)</a></li>
<li class="chapter" data-level="5.5.7" data-path="navigating-rstudio.html"><a href="navigating-rstudio.html#files-plots-packages-oh-my-the-3rd-pane"><i class="fa fa-check"></i><b>5.5.7</b> Files, Plots, Packages, oh my! (The 3rd Pane)</a></li>
<li class="chapter" data-level="5.5.8" data-path="navigating-rstudio.html"><a href="navigating-rstudio.html#writing-r-in-scripts-breaking-the-4th-pane"><i class="fa fa-check"></i><b>5.5.8</b> Writing R in Scripts (Breaking the 4th Pane)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reveiw-of-r-specific-quirks.html"><a href="reveiw-of-r-specific-quirks.html"><i class="fa fa-check"></i>Reveiw of R-specific Quirks</a>
<ul>
<li class="chapter" data-level="5.5.9" data-path="reveiw-of-r-specific-quirks.html"><a href="reveiw-of-r-specific-quirks.html#global-options-1"><i class="fa fa-check"></i><b>5.5.9</b> Global options</a></li>
<li class="chapter" data-level="" data-path="reveiw-of-r-specific-quirks.html"><a href="reveiw-of-r-specific-quirks.html#r-objects-functions"><i class="fa fa-check"></i>R objects, Functions</a></li>
<li class="chapter" data-level="5.5.10" data-path="reveiw-of-r-specific-quirks.html"><a href="reveiw-of-r-specific-quirks.html#r-classes"><i class="fa fa-check"></i><b>5.5.10</b> R classes</a></li>
<li class="chapter" data-level="5.5.11" data-path="reveiw-of-r-specific-quirks.html"><a href="reveiw-of-r-specific-quirks.html#r-projects-r-packages"><i class="fa fa-check"></i><b>5.5.11</b> R Projects, R packages</a></li>
<li class="chapter" data-level="5.5.12" data-path="reveiw-of-r-specific-quirks.html"><a href="reveiw-of-r-specific-quirks.html#r-code-vs-r-scripts-vs-r-markdown"><i class="fa fa-check"></i><b>5.5.12</b> R code vs R scripts vs R markdown</a></li>
<li class="chapter" data-level="" data-path="reveiw-of-r-specific-quirks.html"><a href="reveiw-of-r-specific-quirks.html#how-to-find-help"><i class="fa fa-check"></i>How to find help</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="example-workflow.html"><a href="example-workflow.html"><i class="fa fa-check"></i>Example Workflow</a>
<ul>
<li class="chapter" data-level="5.5.13" data-path="example-workflow.html"><a href="example-workflow.html#create-a-new-r-project"><i class="fa fa-check"></i><b>5.5.13</b> Create a new R project</a></li>
<li class="chapter" data-level="5.5.14" data-path="example-workflow.html"><a href="example-workflow.html#load-a-dataset"><i class="fa fa-check"></i><b>5.5.14</b> Load a dataset</a></li>
<li class="chapter" data-level="5.5.15" data-path="example-workflow.html"><a href="example-workflow.html#visualizeanalyze-data"><i class="fa fa-check"></i><b>5.5.15</b> Visualize/Analyze data</a></li>
<li class="chapter" data-level="5.5.16" data-path="example-workflow.html"><a href="example-workflow.html#save-out-results"><i class="fa fa-check"></i><b>5.5.16</b> Save out results</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="excercises.html"><a href="excercises.html"><i class="fa fa-check"></i>Excercises</a>
<ul>
<li class="chapter" data-level="5.5.17" data-path="excercises.html"><a href="excercises.html#interpreting-r"><i class="fa fa-check"></i><b>5.5.17</b> Interpreting R</a></li>
<li class="chapter" data-level="5.5.18" data-path="excercises.html"><a href="excercises.html#try-setting-up-a-project"><i class="fa fa-check"></i><b>5.5.18</b> Try setting up a project</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-3a-additional-lessons-content-to-transfer-over-what-is-data.html"><a href="appendix-3a-additional-lessons-content-to-transfer-over-what-is-data.html"><i class="fa fa-check"></i>Appendix 3a: Additional lessons / content to transfer over: What <em>is</em> data?</a>
<ul>
<li class="chapter" data-level="" data-path="pov.html"><a href="pov.html"><i class="fa fa-check"></i>POV:</a>
<ul>
<li class="chapter" data-level="5.5.19" data-path="pov.html"><a href="pov.html#activity---collect-data-on-height"><i class="fa fa-check"></i><b>5.5.19</b> ACTIVITY - collect data on height</a></li>
<li class="chapter" data-level="5.5.20" data-path="pov.html"><a href="pov.html#activity---collect-data-on-birth-month"><i class="fa fa-check"></i><b>5.5.20</b> ACTIVITY - collect data on birth month</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="explore-5.html"><a href="explore-5.html"><i class="fa fa-check"></i>Explore</a>
<ul>
<li class="chapter" data-level="5.5.21" data-path="explore-5.html"><a href="explore-5.html#example-datasets"><i class="fa fa-check"></i><b>5.5.21</b> Example Datasets</a></li>
<li class="chapter" data-level="5.5.22" data-path="explore-5.html"><a href="explore-5.html#activity---calculate-by-hand"><i class="fa fa-check"></i><b>5.5.22</b> ACTIVITY - Calculate by hand</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="explain-2.html"><a href="explain-2.html"><i class="fa fa-check"></i>Explain</a></li>
<li class="chapter" data-level="" data-path="ellaborate.html"><a href="ellaborate.html"><i class="fa fa-check"></i>Ellaborate</a>
<ul>
<li class="chapter" data-level="5.5.23" data-path="ellaborate.html"><a href="ellaborate.html#so-what-is-data"><i class="fa fa-check"></i><b>5.5.23</b> So what is data?</a></li>
<li class="chapter" data-level="5.5.24" data-path="ellaborate.html"><a href="ellaborate.html#collecting-data-1"><i class="fa fa-check"></i><b>5.5.24</b> Collecting Data</a></li>
<li class="chapter" data-level="5.5.25" data-path="ellaborate.html"><a href="ellaborate.html#populations-and-sampling-1"><i class="fa fa-check"></i><b>5.5.25</b> POPULATIONS AND SAMPLING</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="evaluation.html"><a href="evaluation.html"><i class="fa fa-check"></i>Evaluation</a>
<ul>
<li class="chapter" data-level="5.5.26" data-path="evaluation.html"><a href="evaluation.html#review-questions"><i class="fa fa-check"></i><b>5.5.26</b> Review Questions</a></li>
<li class="chapter" data-level="5.5.27" data-path="evaluation.html"><a href="evaluation.html#exercises"><i class="fa fa-check"></i><b>5.5.27</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary-1.html"><a href="glossary-1.html"><i class="fa fa-check"></i>Glossary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-3b-additional-lessons-content-to-transfer-over.html"><a href="appendix-3b-additional-lessons-content-to-transfer-over.html"><i class="fa fa-check"></i>Appendix 3b: Additional lessons / content to transfer over:</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-data-types-data-structures.html"><a href="intro-to-r-data-types-data-structures.html"><i class="fa fa-check"></i>Intro to R, data types, data structures</a></li>
<li class="chapter" data-level="" data-path="engage-5.html"><a href="engage-5.html"><i class="fa fa-check"></i>Engage</a>
<ul>
<li class="chapter" data-level="5.5.28" data-path="engage-5.html"><a href="engage-5.html#r-vs-rstudio-1"><i class="fa fa-check"></i><b>5.5.28</b> R vs RStudio</a></li>
<li class="chapter" data-level="5.5.29" data-path="engage-5.html"><a href="engage-5.html#orientation-to-rstudio"><i class="fa fa-check"></i><b>5.5.29</b> Orientation to RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="explore---interacting-with-r-objects.html"><a href="explore---interacting-with-r-objects.html"><i class="fa fa-check"></i>Explore - Interacting with R objects</a>
<ul>
<li class="chapter" data-level="5.5.30" data-path="explore---interacting-with-r-objects.html"><a href="explore---interacting-with-r-objects.html#load-the-data"><i class="fa fa-check"></i><b>5.5.30</b> Load the Data</a></li>
<li class="chapter" data-level="5.5.31" data-path="explore---interacting-with-r-objects.html"><a href="explore---interacting-with-r-objects.html#inspect-the-data-1"><i class="fa fa-check"></i><b>5.5.31</b> Inspect the Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summarize-data.html"><a href="summarize-data.html"><i class="fa fa-check"></i>Summarize Data</a>
<ul>
<li class="chapter" data-level="" data-path="summarize-data.html"><a href="summarize-data.html#continuous-data"><i class="fa fa-check"></i>Continuous Data</a></li>
<li class="chapter" data-level="" data-path="summarize-data.html"><a href="summarize-data.html#all-in-summary"><i class="fa fa-check"></i>All in summary()</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="mode.html"><a href="mode.html"><i class="fa fa-check"></i>Mode</a>
<ul>
<li class="chapter" data-level="5.5.32" data-path="mode.html"><a href="mode.html#mode-code"><i class="fa fa-check"></i><b>5.5.32</b> Mode Code</a></li>
<li class="chapter" data-level="5.5.33" data-path="mode.html"><a href="mode.html#mode-results"><i class="fa fa-check"></i><b>5.5.33</b> Mode Results</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualizing-data-1.html"><a href="visualizing-data-1.html"><i class="fa fa-check"></i>Visualizing Data</a>
<ul>
<li class="chapter" data-level="5.5.34" data-path="visualizing-data-1.html"><a href="visualizing-data-1.html#continuous-data---boxplots"><i class="fa fa-check"></i><b>5.5.34</b> Continuous Data - Boxplots</a></li>
<li class="chapter" data-level="5.5.35" data-path="visualizing-data-1.html"><a href="visualizing-data-1.html#continuous-data---histograms"><i class="fa fa-check"></i><b>5.5.35</b> Continuous Data - Histograms</a></li>
<li class="chapter" data-level="5.5.36" data-path="visualizing-data-1.html"><a href="visualizing-data-1.html#categorical-data"><i class="fa fa-check"></i><b>5.5.36</b> Categorical Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary-2.html"><a href="glossary-2.html"><i class="fa fa-check"></i>Glossary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-3b-additional-lessons-content-to-transfer-over-1.html"><a href="appendix-3b-additional-lessons-content-to-transfer-over-1.html"><i class="fa fa-check"></i>Appendix 3b: Additional lessons / content to transfer over:</a>
<ul>
<li class="chapter" data-level="" data-path="comparing-data.html"><a href="comparing-data.html"><i class="fa fa-check"></i>Comparing Data</a></li>
<li class="chapter" data-level="" data-path="data-distributions.html"><a href="data-distributions.html"><i class="fa fa-check"></i>Data Distributions</a>
<ul>
<li class="chapter" data-level="5.5.37" data-path="data-distributions.html"><a href="data-distributions.html#normal-distributions"><i class="fa fa-check"></i><b>5.5.37</b> Normal Distributions</a></li>
<li class="chapter" data-level="5.5.38" data-path="data-distributions.html"><a href="data-distributions.html#what-is-normal"><i class="fa fa-check"></i><b>5.5.38</b> What <em>is</em> normal?</a></li>
<li class="chapter" data-level="5.5.39" data-path="data-distributions.html"><a href="data-distributions.html#skews"><i class="fa fa-check"></i><b>5.5.39</b> Skews</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="statisitcal-testing-of-simple-data-sets.html"><a href="statisitcal-testing-of-simple-data-sets.html"><i class="fa fa-check"></i>Statisitcal testing of simple data sets</a>
<ul>
<li class="chapter" data-level="5.5.40" data-path="statisitcal-testing-of-simple-data-sets.html"><a href="statisitcal-testing-of-simple-data-sets.html#t-tests-anova-chi2"><i class="fa fa-check"></i><b>5.5.40</b> t-tests, ANOVA, chi2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="relationships-between-variables-in-simple-data-sets.html"><a href="relationships-between-variables-in-simple-data-sets.html"><i class="fa fa-check"></i>Relationships between variables in simple data sets</a>
<ul>
<li class="chapter" data-level="5.5.41" data-path="relationships-between-variables-in-simple-data-sets.html"><a href="relationships-between-variables-in-simple-data-sets.html#correlation-linear-regression"><i class="fa fa-check"></i><b>5.5.41</b> Correlation, Linear Regression</a></li>
<li class="chapter" data-level="5.5.42" data-path="relationships-between-variables-in-simple-data-sets.html"><a href="relationships-between-variables-in-simple-data-sets.html#genearlized-linear-model"><i class="fa fa-check"></i><b>5.5.42</b> Genearlized Linear Model</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-rrstudio.html"><a href="intro-to-rrstudio.html"><i class="fa fa-check"></i>Intro to R/RStudio</a></li>
<li class="chapter" data-level="" data-path="reading-data-distributions.html"><a href="reading-data-distributions.html"><i class="fa fa-check"></i>Reading Data / Distributions</a>
<ul>
<li class="chapter" data-level="5.5.43" data-path="reading-data-distributions.html"><a href="reading-data-distributions.html#what-is-a-normal-distribution"><i class="fa fa-check"></i><b>5.5.43</b> What <em>is</em> a <strong>normal distribution</strong></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary-3.html"><a href="glossary-3.html"><i class="fa fa-check"></i>Glossary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dev-appendix-styling-with-rmd.html"><a href="dev-appendix-styling-with-rmd.html"><i class="fa fa-check"></i>dev-Appendix : Styling with RMD</a>
<ul>
<li class="chapter" data-level="" data-path="navigating-the-bookdown.html"><a href="navigating-the-bookdown.html"><i class="fa fa-check"></i>Navigating the bookdown</a></li>
<li class="chapter" data-level="" data-path="include-images.html"><a href="include-images.html"><i class="fa fa-check"></i>Include Images</a>
<ul>
<li class="chapter" data-level="5.5.44" data-path="include-images.html"><a href="include-images.html#figures-in-a-folder"><i class="fa fa-check"></i><b>5.5.44</b> Figures in a folder</a></li>
<li class="chapter" data-level="5.5.45" data-path="include-images.html"><a href="include-images.html#fancy-renders"><i class="fa fa-check"></i><b>5.5.45</b> Fancy renders</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tips.html"><a href="tips.html"><i class="fa fa-check"></i>Tips</a></li>
<li class="chapter" data-level="" data-path="basic-fonts.html"><a href="basic-fonts.html"><i class="fa fa-check"></i>Basic Fonts</a>
<ul>
<li class="chapter" data-level="5.5.46" data-path="basic-fonts.html"><a href="basic-fonts.html#more-on-math"><i class="fa fa-check"></i><b>5.5.46</b> More on Math</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="linking-and-crossrefs.html"><a href="linking-and-crossrefs.html"><i class="fa fa-check"></i>Linking and Crossrefs</a>
<ul>
<li class="chapter" data-level="5.5.47" data-path="linking-and-crossrefs.html"><a href="linking-and-crossrefs.html#footntes"><i class="fa fa-check"></i><b>5.5.47</b> Footntes</a></li>
<li class="chapter" data-level="5.5.48" data-path="linking-and-crossrefs.html"><a href="linking-and-crossrefs.html#hyperlinks"><i class="fa fa-check"></i><b>5.5.48</b> Hyperlinks</a></li>
<li class="chapter" data-level="5.5.49" data-path="linking-and-crossrefs.html"><a href="linking-and-crossrefs.html#citations"><i class="fa fa-check"></i><b>5.5.49</b> Citations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="glossary-4.html"><a href="glossary-4.html"><i class="fa fa-check"></i><b>6</b> Glossary</a>
<ul>
<li class="chapter" data-level="6.1" data-path="unit-1.html"><a href="unit-1.html"><i class="fa fa-check"></i><b>6.1</b> Unit 1</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="unit-1.html"><a href="unit-1.html#chapter-1"><i class="fa fa-check"></i><b>6.1.1</b> Chapter 1</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="aoendix-1.html"><a href="aoendix-1.html"><i class="fa fa-check"></i><b>6.2</b> Aoendix 1</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="aoendix-1.html"><a href="aoendix-1.html#intro-to-r"><i class="fa fa-check"></i><b>6.2.1</b> Intro to R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="advanced-methods.html"><a href="advanced-methods.html"><i class="fa fa-check"></i>Advanced Methods</a></li>
<li class="divider"></li>
<li><a href="https://github.com/ehrlichd/ipumsEDbook" target="blank">A link to the github repo.</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Social Scientists: An applied course using IPUMS data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lesson-7-exploratory-analysis" class="section level2 unlisted unnumbered hasAnchor">
<h2>Lesson 7 Exploratory analysis<a href="lesson-7-exploratory-analysis.html#lesson-7-exploratory-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you’ve just collected a survey, or other raw data, you may not know what you’re looking for. This is perfectly ok but goes against <em>the scientific method</em> most people learned in grade school (More on that to follow(<strong><em>include_link</em></strong>)).</p>
<p>This unit begins by presenting data/distributions and asking students to begin interpreting the data . visual exploration is encouraged and basic of data manipulation are taught
* <em>EG:</em> how to subset data, how to reshape data, how to recode data, how to convert from one <code>data type</code> to another.</p>
<p>Example lab exercise:</p>
<p>Students given a data set (xls, csv, etc)
* load data, perform manipulations, basic summaries
+ cross tabs
+ group means by a covariate
* inspect data visually
+ <em>DESCRIBE</em> the distribution - is it normal? significant?
* <em>FIND</em> aquestion in the spread of the data
+ how can you test this (maybe small group work)
* write up/ present results
+ think on confounding factors / biases</p>
<div id="advanced-exploration---change-over-time" class="section level3 unnumbered hasAnchor">
<h3>Advanced Exploration - Change Over Time<a href="lesson-7-exploratory-analysis.html#advanced-exploration---change-over-time" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here we demonstrate an approach to looking at how Family Structure (inferred from household relationships) has changed over time.</p>
<div id="setup-load-data" class="section level4 unnumbered hasAnchor">
<h4>Setup / Load Data<a href="lesson-7-exploratory-analysis.html#setup-load-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Install/update R packages</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="lesson-7-exploratory-analysis.html#cb52-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ipumsr&quot;</span>)</span>
<span id="cb52-2"><a href="lesson-7-exploratory-analysis.html#cb52-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>Data extract created online using the datacart system.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="lesson-7-exploratory-analysis.html#cb53-1" tabindex="-1"></a><span class="fu">library</span>(ipumsr)</span>
<span id="cb53-2"><a href="lesson-7-exploratory-analysis.html#cb53-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb53-3"><a href="lesson-7-exploratory-analysis.html#cb53-3" tabindex="-1"></a></span>
<span id="cb53-4"><a href="lesson-7-exploratory-analysis.html#cb53-4" tabindex="-1"></a></span>
<span id="cb53-5"><a href="lesson-7-exploratory-analysis.html#cb53-5" tabindex="-1"></a>ddi <span class="ot">&lt;-</span> <span class="fu">read_ipums_ddi</span>(<span class="st">&quot;Data/ipumsi_00005.xml&quot;</span>)</span>
<span id="cb53-6"><a href="lesson-7-exploratory-analysis.html#cb53-6" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_ipums_micro</span>(ddi)</span></code></pre></div>
<div id="inspect-the-data" class="section level5 unnumbered hasAnchor">
<h5>Inspect the Data<a href="lesson-7-exploratory-analysis.html#inspect-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Using <code>haven</code> labeled values.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="lesson-7-exploratory-analysis.html#cb54-1" tabindex="-1"></a>data<span class="sc">$</span>RELATE[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>]</span>
<span id="cb54-2"><a href="lesson-7-exploratory-analysis.html#cb54-2" tabindex="-1"></a><span class="fu">class</span>(data<span class="sc">$</span>RELATE)</span>
<span id="cb54-3"><a href="lesson-7-exploratory-analysis.html#cb54-3" tabindex="-1"></a></span>
<span id="cb54-4"><a href="lesson-7-exploratory-analysis.html#cb54-4" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">count</span>(RELATE)</span>
<span id="cb54-5"><a href="lesson-7-exploratory-analysis.html#cb54-5" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">count</span>(SEX)</span></code></pre></div>
<p>What were those codes ??</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="lesson-7-exploratory-analysis.html#cb55-1" tabindex="-1"></a><span class="do">## need to convert this to an image or something similar; kable table?</span></span>
<span id="cb55-2"><a href="lesson-7-exploratory-analysis.html#cb55-2" tabindex="-1"></a><span class="fu">ipums_view</span>(ddi)</span></code></pre></div>
</div>
<div id="visualize" class="section level5 unnumbered hasAnchor">
<h5>Visualize<a href="lesson-7-exploratory-analysis.html#visualize" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>A simple plot</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="lesson-7-exploratory-analysis.html#cb56-1" tabindex="-1"></a><span class="fu">plot</span>(AGE <span class="sc">~</span> YEAR, <span class="at">data =</span> data)</span></code></pre></div>
<p>A fancier plot</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="lesson-7-exploratory-analysis.html#cb57-1" tabindex="-1"></a><span class="fu">plot</span>(AGE<span class="sc">~</span>YEAR, <span class="at">data =</span> data, <span class="at">type =</span> <span class="st">&quot;n&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Age by Sex, over Time, CO&quot;</span>)</span>
<span id="cb57-2"><a href="lesson-7-exploratory-analysis.html#cb57-2" tabindex="-1"></a><span class="fu">points</span>(data<span class="sc">$</span>YEAR[data<span class="sc">$</span>SEX<span class="sc">==</span><span class="dv">1</span>]<span class="sc">-</span><span class="dv">1</span>, data<span class="sc">$</span>AGE[data<span class="sc">$</span>SEX<span class="sc">==</span><span class="dv">1</span>], <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">6</span>,.<span class="dv">6</span>,.<span class="dv">8</span>,.<span class="dv">2</span>))</span>
<span id="cb57-3"><a href="lesson-7-exploratory-analysis.html#cb57-3" tabindex="-1"></a></span>
<span id="cb57-4"><a href="lesson-7-exploratory-analysis.html#cb57-4" tabindex="-1"></a><span class="fu">points</span>(data<span class="sc">$</span>YEAR[data<span class="sc">$</span>SEX<span class="sc">==</span><span class="dv">2</span>]<span class="sc">+</span><span class="dv">1</span>, data<span class="sc">$</span>AGE[data<span class="sc">$</span>SEX<span class="sc">==</span><span class="dv">2</span>], <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="fu">hsv</span>(<span class="dv">1</span>,.<span class="dv">6</span>,.<span class="dv">8</span>,.<span class="dv">2</span>))</span>
<span id="cb57-5"><a href="lesson-7-exploratory-analysis.html#cb57-5" tabindex="-1"></a></span>
<span id="cb57-6"><a href="lesson-7-exploratory-analysis.html#cb57-6" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">lm</span>(AGE<span class="sc">~</span>YEAR, <span class="at">data =</span> data), <span class="at">col =</span> <span class="st">&quot;green&quot;</span>)</span></code></pre></div>
</div>
<div id="asking-logical-questions" class="section level5 unnumbered hasAnchor">
<h5>Asking (logical) questions<a href="lesson-7-exploratory-analysis.html#asking-logical-questions" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Here we demonstrate how setting up logical questions can be used to easily filter/subset data.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="lesson-7-exploratory-analysis.html#cb58-1" tabindex="-1"></a>age_test <span class="ot">&lt;-</span> data<span class="sc">$</span>AGE <span class="sc">&gt;</span> <span class="dv">18</span></span>
<span id="cb58-2"><a href="lesson-7-exploratory-analysis.html#cb58-2" tabindex="-1"></a></span>
<span id="cb58-3"><a href="lesson-7-exploratory-analysis.html#cb58-3" tabindex="-1"></a><span class="fu">class</span>(age_test)</span>
<span id="cb58-4"><a href="lesson-7-exploratory-analysis.html#cb58-4" tabindex="-1"></a></span>
<span id="cb58-5"><a href="lesson-7-exploratory-analysis.html#cb58-5" tabindex="-1"></a>age_test</span></code></pre></div>
<p>Logical vectors are stored as <code>TRUE</code> or <code>FALSE</code>, but can also be evaluated numerically as <code>1</code> or <code>0</code> respectively. We can therefore <code>sum()</code> the number of <code>TRUE</code> values and divide by total rows for a proportion.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="lesson-7-exploratory-analysis.html#cb59-1" tabindex="-1"></a><span class="fu">sum</span>(age_test)<span class="sc">/</span><span class="fu">nrow</span>(data)</span></code></pre></div>
</div>
<div id="hh-vs-persons" class="section level5 unnumbered hasAnchor">
<h5>HH vs persons<a href="lesson-7-exploratory-analysis.html#hh-vs-persons" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>A unique characteristic of census and some survey data is the nested-structure with individuals being grouped into households. Often times it is necessary to choose to work at the hh or person level, and data must be appropriately manipulated to fit that case.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="lesson-7-exploratory-analysis.html#cb60-1" tabindex="-1"></a>hh_total <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(data<span class="sc">$</span>SERIAL))</span>
<span id="cb60-2"><a href="lesson-7-exploratory-analysis.html#cb60-2" tabindex="-1"></a>hh_total</span>
<span id="cb60-3"><a href="lesson-7-exploratory-analysis.html#cb60-3" tabindex="-1"></a><span class="fu">ipums_view</span>(ddi)</span></code></pre></div>
</div>
</div>
<div id="nuclear-family" class="section level4 unnumbered hasAnchor">
<h4>Nuclear Family<a href="lesson-7-exploratory-analysis.html#nuclear-family" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>First we look at a nuclear family, comprising only parents and their immediate children.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="lesson-7-exploratory-analysis.html#cb61-1" tabindex="-1"></a><span class="fu">library</span>(ipumsr)</span>
<span id="cb61-2"><a href="lesson-7-exploratory-analysis.html#cb61-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb61-3"><a href="lesson-7-exploratory-analysis.html#cb61-3" tabindex="-1"></a></span>
<span id="cb61-4"><a href="lesson-7-exploratory-analysis.html#cb61-4" tabindex="-1"></a>ddi <span class="ot">&lt;-</span> <span class="fu">read_ipums_ddi</span>(<span class="st">&quot;/pkg/ipums/personal/ehrli097/AABA_2022/Data/ipumsi_00005.xml&quot;</span>)</span>
<span id="cb61-5"><a href="lesson-7-exploratory-analysis.html#cb61-5" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> <span class="fu">read_ipums_micro</span>(ddi)</span>
<span id="cb61-6"><a href="lesson-7-exploratory-analysis.html#cb61-6" tabindex="-1"></a></span>
<span id="cb61-7"><a href="lesson-7-exploratory-analysis.html#cb61-7" tabindex="-1"></a>census_years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1860</span>, <span class="dv">1870</span>, <span class="dv">1880</span>, <span class="dv">1900</span>, <span class="dv">1910</span>, <span class="dv">1960</span>, <span class="dv">1970</span>, <span class="dv">1980</span>, <span class="dv">1990</span>, <span class="dv">2000</span>, <span class="dv">2010</span>)</span>
<span id="cb61-8"><a href="lesson-7-exploratory-analysis.html#cb61-8" tabindex="-1"></a></span>
<span id="cb61-9"><a href="lesson-7-exploratory-analysis.html#cb61-9" tabindex="-1"></a><span class="do">## subset census only</span></span>
<span id="cb61-10"><a href="lesson-7-exploratory-analysis.html#cb61-10" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> all_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(YEAR <span class="sc">%in%</span> census_years)</span>
<span id="cb61-11"><a href="lesson-7-exploratory-analysis.html#cb61-11" tabindex="-1"></a></span>
<span id="cb61-12"><a href="lesson-7-exploratory-analysis.html#cb61-12" tabindex="-1"></a><span class="do">## make a household dataframe</span></span>
<span id="cb61-13"><a href="lesson-7-exploratory-analysis.html#cb61-13" tabindex="-1"></a>hhs <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(YEAR, SERIAL, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(YEAR,SERIAL,GEO1_US)</span>
<span id="cb61-14"><a href="lesson-7-exploratory-analysis.html#cb61-14" tabindex="-1"></a></span>
<span id="cb61-15"><a href="lesson-7-exploratory-analysis.html#cb61-15" tabindex="-1"></a>hhs <span class="sc">%&gt;%</span> <span class="fu">View</span>()</span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="lesson-7-exploratory-analysis.html#cb62-1" tabindex="-1"></a>hhs <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(RELATE <span class="sc">==</span><span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="lesson-7-exploratory-analysis.html#cb62-2" tabindex="-1"></a>  </span>
<span id="cb62-3"><a href="lesson-7-exploratory-analysis.html#cb62-3" tabindex="-1"></a>  </span>
<span id="cb62-4"><a href="lesson-7-exploratory-analysis.html#cb62-4" tabindex="-1"></a>  <span class="fu">distinct</span>(YEAR, SERIAL) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">extended_test=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(hhs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>, <span class="st">&quot;SERIAL&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">extended_test=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(extended_test),<span class="cn">FALSE</span>,<span class="cn">TRUE</span>))</span>
<span id="cb62-5"><a href="lesson-7-exploratory-analysis.html#cb62-5" tabindex="-1"></a>  </span>
<span id="cb62-6"><a href="lesson-7-exploratory-analysis.html#cb62-6" tabindex="-1"></a></span>
<span id="cb62-7"><a href="lesson-7-exploratory-analysis.html#cb62-7" tabindex="-1"></a></span>
<span id="cb62-8"><a href="lesson-7-exploratory-analysis.html#cb62-8" tabindex="-1"></a></span>
<span id="cb62-9"><a href="lesson-7-exploratory-analysis.html#cb62-9" tabindex="-1"></a></span>
<span id="cb62-10"><a href="lesson-7-exploratory-analysis.html#cb62-10" tabindex="-1"></a></span>
<span id="cb62-11"><a href="lesson-7-exploratory-analysis.html#cb62-11" tabindex="-1"></a></span>
<span id="cb62-12"><a href="lesson-7-exploratory-analysis.html#cb62-12" tabindex="-1"></a></span>
<span id="cb62-13"><a href="lesson-7-exploratory-analysis.html#cb62-13" tabindex="-1"></a></span>
<span id="cb62-14"><a href="lesson-7-exploratory-analysis.html#cb62-14" tabindex="-1"></a>hhs <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>RELATE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="sc">|</span></span>
<span id="cb62-15"><a href="lesson-7-exploratory-analysis.html#cb62-15" tabindex="-1"></a>                  (RELATE <span class="sc">==</span> <span class="dv">3</span> <span class="sc">&amp;</span></span>
<span id="cb62-16"><a href="lesson-7-exploratory-analysis.html#cb62-16" tabindex="-1"></a>                     MARST <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb62-17"><a href="lesson-7-exploratory-analysis.html#cb62-17" tabindex="-1"></a>                ) <span class="sc">%&gt;%</span> </span>
<span id="cb62-18"><a href="lesson-7-exploratory-analysis.html#cb62-18" tabindex="-1"></a></span>
<span id="cb62-19"><a href="lesson-7-exploratory-analysis.html#cb62-19" tabindex="-1"></a>  </span>
<span id="cb62-20"><a href="lesson-7-exploratory-analysis.html#cb62-20" tabindex="-1"></a>  </span>
<span id="cb62-21"><a href="lesson-7-exploratory-analysis.html#cb62-21" tabindex="-1"></a>  <span class="fu">distinct</span>(YEAR, SERIAL) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">nuclear_test =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(hhs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>, <span class="st">&quot;SERIAL&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">nuclear_test =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(nuclear_test), <span class="cn">TRUE</span>, <span class="cn">FALSE</span>))</span>
<span id="cb62-22"><a href="lesson-7-exploratory-analysis.html#cb62-22" tabindex="-1"></a></span>
<span id="cb62-23"><a href="lesson-7-exploratory-analysis.html#cb62-23" tabindex="-1"></a></span>
<span id="cb62-24"><a href="lesson-7-exploratory-analysis.html#cb62-24" tabindex="-1"></a></span>
<span id="cb62-25"><a href="lesson-7-exploratory-analysis.html#cb62-25" tabindex="-1"></a><span class="fu">table</span>(hhs<span class="sc">$</span>extended_test,hhs<span class="sc">$</span>nuclear_test)</span></code></pre></div>
<div id="tabulate-results" class="section level5 unnumbered hasAnchor">
<h5>Tabulate results<a href="lesson-7-exploratory-analysis.html#tabulate-results" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="lesson-7-exploratory-analysis.html#cb63-1" tabindex="-1"></a>  hhs <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(RELATED <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4200</span>, <span class="dv">4210</span>, <span class="dv">4211</span>, <span class="dv">4220</span>, <span class="dv">4500</span>, <span class="dv">4510</span>, <span class="dv">4600</span>)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(YEAR, SERIAL) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">parent_test=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(hhs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>, <span class="st">&quot;SERIAL&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">parent_test=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(parent_test),<span class="cn">FALSE</span>,<span class="cn">TRUE</span>))</span>
<span id="cb63-2"><a href="lesson-7-exploratory-analysis.html#cb63-2" tabindex="-1"></a></span>
<span id="cb63-3"><a href="lesson-7-exploratory-analysis.html#cb63-3" tabindex="-1"></a></span>
<span id="cb63-4"><a href="lesson-7-exploratory-analysis.html#cb63-4" tabindex="-1"></a>  hhs <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(RELATED <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4100</span>, <span class="dv">4110</span>, <span class="dv">4120</span>, <span class="dv">4130</span>, <span class="dv">4300</span>, <span class="dv">4301</span>, <span class="dv">4302</span>)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(YEAR, SERIAL) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">children_test=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(hhs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>, <span class="st">&quot;SERIAL&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">children_test=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(children_test),<span class="cn">FALSE</span>,<span class="cn">TRUE</span>))</span>
<span id="cb63-5"><a href="lesson-7-exploratory-analysis.html#cb63-5" tabindex="-1"></a>  </span>
<span id="cb63-6"><a href="lesson-7-exploratory-analysis.html#cb63-6" tabindex="-1"></a>  </span>
<span id="cb63-7"><a href="lesson-7-exploratory-analysis.html#cb63-7" tabindex="-1"></a>  res_tabs <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb63-8"><a href="lesson-7-exploratory-analysis.html#cb63-8" tabindex="-1"></a>    <span class="st">&quot;nuclear_test&quot;</span> <span class="ot">=</span> hhs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(YEAR, nuclear_test,GEO1_US) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">.groups=</span><span class="st">&quot;drop&quot;</span>,<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>(),</span>
<span id="cb63-9"><a href="lesson-7-exploratory-analysis.html#cb63-9" tabindex="-1"></a>  <span class="st">&quot;extended_test&quot;</span> <span class="ot">=</span> hhs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(YEAR, extended_test, GEO1_US) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">.groups=</span><span class="st">&quot;drop&quot;</span>,<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>(),</span>
<span id="cb63-10"><a href="lesson-7-exploratory-analysis.html#cb63-10" tabindex="-1"></a>  <span class="st">&quot;parent_test&quot;</span> <span class="ot">=</span> hhs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(YEAR, parent_test, GEO1_US) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">.groups=</span><span class="st">&quot;drop&quot;</span>,<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>(),</span>
<span id="cb63-11"><a href="lesson-7-exploratory-analysis.html#cb63-11" tabindex="-1"></a>  <span class="st">&quot;children_test&quot;</span> <span class="ot">=</span> hhs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(YEAR, children_test, GEO1_US) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">.groups=</span><span class="st">&quot;drop&quot;</span>,<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb63-12"><a href="lesson-7-exploratory-analysis.html#cb63-12" tabindex="-1"></a>  )</span>
<span id="cb63-13"><a href="lesson-7-exploratory-analysis.html#cb63-13" tabindex="-1"></a>  </span>
<span id="cb63-14"><a href="lesson-7-exploratory-analysis.html#cb63-14" tabindex="-1"></a>  </span>
<span id="cb63-15"><a href="lesson-7-exploratory-analysis.html#cb63-15" tabindex="-1"></a>  </span>
<span id="cb63-16"><a href="lesson-7-exploratory-analysis.html#cb63-16" tabindex="-1"></a>  </span>
<span id="cb63-17"><a href="lesson-7-exploratory-analysis.html#cb63-17" tabindex="-1"></a></span>
<span id="cb63-18"><a href="lesson-7-exploratory-analysis.html#cb63-18" tabindex="-1"></a>collapsed_results <span class="ot">&lt;-</span> res_tabs <span class="sc">%&gt;%</span> purrr<span class="sc">::</span><span class="fu">map</span>(<span class="cf">function</span>(x){</span>
<span id="cb63-19"><a href="lesson-7-exploratory-analysis.html#cb63-19" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="fu">across</span>(<span class="fu">names</span>(x)[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">.groups=</span><span class="st">&quot;drop&quot;</span>,<span class="at">n =</span> <span class="fu">sum</span>(n))</span>
<span id="cb63-20"><a href="lesson-7-exploratory-analysis.html#cb63-20" tabindex="-1"></a></span>
<span id="cb63-21"><a href="lesson-7-exploratory-analysis.html#cb63-21" tabindex="-1"></a>})</span>
<span id="cb63-22"><a href="lesson-7-exploratory-analysis.html#cb63-22" tabindex="-1"></a></span>
<span id="cb63-23"><a href="lesson-7-exploratory-analysis.html#cb63-23" tabindex="-1"></a></span>
<span id="cb63-24"><a href="lesson-7-exploratory-analysis.html#cb63-24" tabindex="-1"></a>collapsed_results <span class="ot">&lt;-</span> <span class="fu">lapply</span>(collapsed_results, <span class="cf">function</span>(x){</span>
<span id="cb63-25"><a href="lesson-7-exploratory-analysis.html#cb63-25" tabindex="-1"></a>  <span class="fu">colnames</span>(x)[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;test&quot;</span></span>
<span id="cb63-26"><a href="lesson-7-exploratory-analysis.html#cb63-26" tabindex="-1"></a>  <span class="fu">colnames</span>(x)[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="st">&quot;state&quot;</span></span>
<span id="cb63-27"><a href="lesson-7-exploratory-analysis.html#cb63-27" tabindex="-1"></a>  <span class="fu">return</span>(x)</span>
<span id="cb63-28"><a href="lesson-7-exploratory-analysis.html#cb63-28" tabindex="-1"></a>})</span>
<span id="cb63-29"><a href="lesson-7-exploratory-analysis.html#cb63-29" tabindex="-1"></a></span>
<span id="cb63-30"><a href="lesson-7-exploratory-analysis.html#cb63-30" tabindex="-1"></a>combined <span class="ot">&lt;-</span> collapsed_results <span class="sc">%&gt;%</span> purrr<span class="sc">::</span><span class="fu">reduce</span>(full_join, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>, <span class="st">&quot;test&quot;</span>, <span class="st">&quot;state&quot;</span>))</span>
<span id="cb63-31"><a href="lesson-7-exploratory-analysis.html#cb63-31" tabindex="-1"></a></span>
<span id="cb63-32"><a href="lesson-7-exploratory-analysis.html#cb63-32" tabindex="-1"></a></span>
<span id="cb63-33"><a href="lesson-7-exploratory-analysis.html#cb63-33" tabindex="-1"></a></span>
<span id="cb63-34"><a href="lesson-7-exploratory-analysis.html#cb63-34" tabindex="-1"></a><span class="fu">colnames</span>(combined) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>,<span class="st">&quot;test&quot;</span>, <span class="st">&quot;state&quot;</span>, <span class="st">&quot;n_nuclear&quot;</span>, <span class="st">&quot;n_extended&quot;</span>, <span class="st">&quot;n_parent&quot;</span>, <span class="st">&quot;n_children&quot;</span>)</span>
<span id="cb63-35"><a href="lesson-7-exploratory-analysis.html#cb63-35" tabindex="-1"></a></span>
<span id="cb63-36"><a href="lesson-7-exploratory-analysis.html#cb63-36" tabindex="-1"></a>combined[<span class="fu">is.na</span>(combined)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb63-37"><a href="lesson-7-exploratory-analysis.html#cb63-37" tabindex="-1"></a></span>
<span id="cb63-38"><a href="lesson-7-exploratory-analysis.html#cb63-38" tabindex="-1"></a></span>
<span id="cb63-39"><a href="lesson-7-exploratory-analysis.html#cb63-39" tabindex="-1"></a>to_plot <span class="ot">&lt;-</span> combined <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(YEAR, state) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n_tot =</span> <span class="fu">sum</span>(n_nuclear)) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pct =</span>  <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;n_&quot;</span>))<span class="sc">/</span>n_tot) <span class="sc">%&gt;%</span> <span class="fu">select</span>(YEAR,test,state,pct)</span></code></pre></div>
</div>
<div id="visualize-nuclear-families" class="section level5 unnumbered hasAnchor">
<h5>Visualize Nuclear Families<a href="lesson-7-exploratory-analysis.html#visualize-nuclear-families" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="lesson-7-exploratory-analysis.html#cb64-1" tabindex="-1"></a>to_plot <span class="ot">&lt;-</span> to_plot <span class="sc">%&gt;%</span> <span class="fu">filter</span>(test<span class="sc">==</span><span class="cn">TRUE</span>)</span>
<span id="cb64-2"><a href="lesson-7-exploratory-analysis.html#cb64-2" tabindex="-1"></a></span>
<span id="cb64-3"><a href="lesson-7-exploratory-analysis.html#cb64-3" tabindex="-1"></a></span>
<span id="cb64-4"><a href="lesson-7-exploratory-analysis.html#cb64-4" tabindex="-1"></a></span>
<span id="cb64-5"><a href="lesson-7-exploratory-analysis.html#cb64-5" tabindex="-1"></a><span class="fu">plot</span>(to_plot<span class="sc">$</span>YEAR, to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_nuclear, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">4</span>, .<span class="dv">6</span>,.<span class="dv">8</span>), <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">ylim =</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;prop of hhs&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Nuclear HHs over time in CO&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="extended-family" class="section level4 unnumbered hasAnchor">
<h4>Extended Family<a href="lesson-7-exploratory-analysis.html#extended-family" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Next we look at hhs with extended families present. IE, any that contain more relationships than just Parent/Child/Sibling (between children only)</p>
<div id="gernerate-models" class="section level5 unnumbered hasAnchor">
<h5>Gernerate models<a href="lesson-7-exploratory-analysis.html#gernerate-models" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="lesson-7-exploratory-analysis.html#cb65-1" tabindex="-1"></a>to_plot <span class="ot">&lt;-</span> to_plot <span class="sc">%&gt;%</span> <span class="fu">filter</span>(test<span class="sc">==</span><span class="cn">TRUE</span>)</span>
<span id="cb65-2"><a href="lesson-7-exploratory-analysis.html#cb65-2" tabindex="-1"></a></span>
<span id="cb65-3"><a href="lesson-7-exploratory-analysis.html#cb65-3" tabindex="-1"></a></span>
<span id="cb65-4"><a href="lesson-7-exploratory-analysis.html#cb65-4" tabindex="-1"></a>glm_hist <span class="ot">&lt;-</span> <span class="fu">glm</span>(pct<span class="sc">$</span>n_extended <span class="sc">~</span> YEAR, <span class="at">data =</span> to_plot[to_plot<span class="sc">$</span>YEAR <span class="sc">&lt;</span> <span class="dv">1950</span>,], <span class="at">family =</span> <span class="fu">quasibinomial</span>(<span class="at">link=</span>logit))</span>
<span id="cb65-5"><a href="lesson-7-exploratory-analysis.html#cb65-5" tabindex="-1"></a></span>
<span id="cb65-6"><a href="lesson-7-exploratory-analysis.html#cb65-6" tabindex="-1"></a></span>
<span id="cb65-7"><a href="lesson-7-exploratory-analysis.html#cb65-7" tabindex="-1"></a></span>
<span id="cb65-8"><a href="lesson-7-exploratory-analysis.html#cb65-8" tabindex="-1"></a>glm_hist_x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1860</span>, <span class="at">to =</span> <span class="dv">1910</span>, <span class="at">length.out =</span> <span class="dv">100</span>)</span>
<span id="cb65-9"><a href="lesson-7-exploratory-analysis.html#cb65-9" tabindex="-1"></a>glm_hist_y <span class="ot">&lt;-</span> <span class="fu">predict</span>(glm_hist, <span class="fu">list</span>(<span class="at">YEAR =</span> glm_hist_x), <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb65-10"><a href="lesson-7-exploratory-analysis.html#cb65-10" tabindex="-1"></a></span>
<span id="cb65-11"><a href="lesson-7-exploratory-analysis.html#cb65-11" tabindex="-1"></a>glm_mod <span class="ot">&lt;-</span> <span class="fu">glm</span>(pct<span class="sc">$</span>n_extended <span class="sc">~</span> YEAR, <span class="at">data =</span> to_plot[to_plot<span class="sc">$</span>YEAR<span class="sc">&gt;</span> <span class="dv">1950</span>,], <span class="at">family =</span> <span class="fu">quasibinomial</span>(<span class="at">link=</span>logit))</span>
<span id="cb65-12"><a href="lesson-7-exploratory-analysis.html#cb65-12" tabindex="-1"></a></span>
<span id="cb65-13"><a href="lesson-7-exploratory-analysis.html#cb65-13" tabindex="-1"></a>glm_mod_x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1960</span>, <span class="at">to =</span> <span class="dv">2010</span>, <span class="at">length.out =</span> <span class="dv">100</span>)</span>
<span id="cb65-14"><a href="lesson-7-exploratory-analysis.html#cb65-14" tabindex="-1"></a>glm_mod_y <span class="ot">&lt;-</span> <span class="fu">predict</span>(glm_mod, <span class="fu">list</span>(<span class="at">YEAR =</span> glm_mod_x), <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb65-15"><a href="lesson-7-exploratory-analysis.html#cb65-15" tabindex="-1"></a></span>
<span id="cb65-16"><a href="lesson-7-exploratory-analysis.html#cb65-16" tabindex="-1"></a>mods <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;hist&quot;</span><span class="ot">=</span><span class="fu">list</span>(),</span>
<span id="cb65-17"><a href="lesson-7-exploratory-analysis.html#cb65-17" tabindex="-1"></a>             <span class="st">&quot;mod&quot;</span> <span class="ot">=</span> <span class="fu">list</span>()</span>
<span id="cb65-18"><a href="lesson-7-exploratory-analysis.html#cb65-18" tabindex="-1"></a>             )</span>
<span id="cb65-19"><a href="lesson-7-exploratory-analysis.html#cb65-19" tabindex="-1"></a>mods_plots <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;hist&quot;</span><span class="ot">=</span><span class="fu">list</span>(),</span>
<span id="cb65-20"><a href="lesson-7-exploratory-analysis.html#cb65-20" tabindex="-1"></a>                   <span class="st">&quot;mod&quot;</span> <span class="ot">=</span><span class="fu">list</span>()</span>
<span id="cb65-21"><a href="lesson-7-exploratory-analysis.html#cb65-21" tabindex="-1"></a>                   )</span>
<span id="cb65-22"><a href="lesson-7-exploratory-analysis.html#cb65-22" tabindex="-1"></a></span>
<span id="cb65-23"><a href="lesson-7-exploratory-analysis.html#cb65-23" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">names</span>(to_plot<span class="sc">$</span>pct)){</span>
<span id="cb65-24"><a href="lesson-7-exploratory-analysis.html#cb65-24" tabindex="-1"></a>  </span>
<span id="cb65-25"><a href="lesson-7-exploratory-analysis.html#cb65-25" tabindex="-1"></a>  hist_x <span class="ot">&lt;-</span> to_plot<span class="sc">$</span>YEAR[to_plot<span class="sc">$</span>YEAR <span class="sc">&lt;</span> <span class="dv">1950</span>]</span>
<span id="cb65-26"><a href="lesson-7-exploratory-analysis.html#cb65-26" tabindex="-1"></a>mod_x <span class="ot">&lt;-</span> to_plot<span class="sc">$</span>YEAR[to_plot<span class="sc">$</span>YEAR <span class="sc">&gt;</span> <span class="dv">1950</span>]</span>
<span id="cb65-27"><a href="lesson-7-exploratory-analysis.html#cb65-27" tabindex="-1"></a></span>
<span id="cb65-28"><a href="lesson-7-exploratory-analysis.html#cb65-28" tabindex="-1"></a>  mods<span class="sc">$</span>hist[[i]] <span class="ot">&lt;-</span> <span class="fu">lm</span>(pct[[i]] <span class="sc">~</span> YEAR, <span class="at">data =</span> to_plot[to_plot<span class="sc">$</span>YEAR <span class="sc">&lt;</span> <span class="dv">1950</span>,])</span>
<span id="cb65-29"><a href="lesson-7-exploratory-analysis.html#cb65-29" tabindex="-1"></a>  </span>
<span id="cb65-30"><a href="lesson-7-exploratory-analysis.html#cb65-30" tabindex="-1"></a>  mods_plots<span class="sc">$</span>hist[[i]] <span class="ot">&lt;-</span> </span>
<span id="cb65-31"><a href="lesson-7-exploratory-analysis.html#cb65-31" tabindex="-1"></a>    <span class="fu">data.frame</span>(<span class="st">&quot;x&quot;</span> <span class="ot">=</span> hist_x,</span>
<span id="cb65-32"><a href="lesson-7-exploratory-analysis.html#cb65-32" tabindex="-1"></a>               <span class="st">&quot;y&quot;</span> <span class="ot">=</span> <span class="fu">predict</span>(mods<span class="sc">$</span>hist[[i]], </span>
<span id="cb65-33"><a href="lesson-7-exploratory-analysis.html#cb65-33" tabindex="-1"></a>                             <span class="fu">list</span>(<span class="at">YEAR =</span>hist_x), </span>
<span id="cb65-34"><a href="lesson-7-exploratory-analysis.html#cb65-34" tabindex="-1"></a>                             <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb65-35"><a href="lesson-7-exploratory-analysis.html#cb65-35" tabindex="-1"></a>               )</span>
<span id="cb65-36"><a href="lesson-7-exploratory-analysis.html#cb65-36" tabindex="-1"></a>  </span>
<span id="cb65-37"><a href="lesson-7-exploratory-analysis.html#cb65-37" tabindex="-1"></a>  </span>
<span id="cb65-38"><a href="lesson-7-exploratory-analysis.html#cb65-38" tabindex="-1"></a>  </span>
<span id="cb65-39"><a href="lesson-7-exploratory-analysis.html#cb65-39" tabindex="-1"></a>  mods<span class="sc">$</span>mod[[i]] <span class="ot">&lt;-</span> <span class="fu">lm</span>(pct[[i]] <span class="sc">~</span> YEAR, <span class="at">data =</span> to_plot[to_plot<span class="sc">$</span>YEAR <span class="sc">&gt;</span> <span class="dv">1950</span>,])</span>
<span id="cb65-40"><a href="lesson-7-exploratory-analysis.html#cb65-40" tabindex="-1"></a>  </span>
<span id="cb65-41"><a href="lesson-7-exploratory-analysis.html#cb65-41" tabindex="-1"></a>  </span>
<span id="cb65-42"><a href="lesson-7-exploratory-analysis.html#cb65-42" tabindex="-1"></a>  mods_plots<span class="sc">$</span>mod[[i]] <span class="ot">&lt;-</span> </span>
<span id="cb65-43"><a href="lesson-7-exploratory-analysis.html#cb65-43" tabindex="-1"></a>    <span class="fu">data.frame</span>(<span class="st">&quot;x&quot;</span> <span class="ot">=</span> mod_x,</span>
<span id="cb65-44"><a href="lesson-7-exploratory-analysis.html#cb65-44" tabindex="-1"></a>               <span class="st">&quot;y&quot;</span> <span class="ot">=</span> <span class="fu">predict</span>(mods<span class="sc">$</span>mod[[i]], </span>
<span id="cb65-45"><a href="lesson-7-exploratory-analysis.html#cb65-45" tabindex="-1"></a>                             <span class="fu">list</span>(<span class="at">YEAR =</span>mod_x), </span>
<span id="cb65-46"><a href="lesson-7-exploratory-analysis.html#cb65-46" tabindex="-1"></a>                             <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb65-47"><a href="lesson-7-exploratory-analysis.html#cb65-47" tabindex="-1"></a>               )</span>
<span id="cb65-48"><a href="lesson-7-exploratory-analysis.html#cb65-48" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="visualize-1" class="section level5 unnumbered hasAnchor">
<h5>Visualize<a href="lesson-7-exploratory-analysis.html#visualize-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="lesson-7-exploratory-analysis.html#cb66-1" tabindex="-1"></a><span class="fu">plot</span>(to_plot<span class="sc">$</span>YEAR, to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_extended, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">6</span>,.<span class="dv">8</span>), <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">ylim =</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">25</span>), <span class="at">bg =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;pct of hhs with extended family&quot;</span>)</span>
<span id="cb66-2"><a href="lesson-7-exploratory-analysis.html#cb66-2" tabindex="-1"></a></span>
<span id="cb66-3"><a href="lesson-7-exploratory-analysis.html#cb66-3" tabindex="-1"></a></span>
<span id="cb66-4"><a href="lesson-7-exploratory-analysis.html#cb66-4" tabindex="-1"></a><span class="fu">lines</span>(glm_hist_x,glm_hist_y, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">3</span>, <span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb66-5"><a href="lesson-7-exploratory-analysis.html#cb66-5" tabindex="-1"></a><span class="fu">lines</span>(glm_mod_x, glm_mod_y, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">3</span>, <span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb66-6"><a href="lesson-7-exploratory-analysis.html#cb66-6" tabindex="-1"></a></span>
<span id="cb66-7"><a href="lesson-7-exploratory-analysis.html#cb66-7" tabindex="-1"></a></span>
<span id="cb66-8"><a href="lesson-7-exploratory-analysis.html#cb66-8" tabindex="-1"></a></span>
<span id="cb66-9"><a href="lesson-7-exploratory-analysis.html#cb66-9" tabindex="-1"></a></span>
<span id="cb66-10"><a href="lesson-7-exploratory-analysis.html#cb66-10" tabindex="-1"></a><span class="fu">points</span>(to_plot<span class="sc">$</span>YEAR,</span>
<span id="cb66-11"><a href="lesson-7-exploratory-analysis.html#cb66-11" tabindex="-1"></a>       to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_extended,</span>
<span id="cb66-12"><a href="lesson-7-exploratory-analysis.html#cb66-12" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">23</span>,</span>
<span id="cb66-13"><a href="lesson-7-exploratory-analysis.html#cb66-13" tabindex="-1"></a>       <span class="at">bg =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>,.<span class="dv">6</span>,.<span class="dv">8</span>))</span></code></pre></div>
</div>
</div>
<div id="even-more-detail---maybe-remove" class="section level4 unnumbered hasAnchor">
<h4>Even more DETAIL - maybe remove<a href="lesson-7-exploratory-analysis.html#even-more-detail---maybe-remove" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="lesson-7-exploratory-analysis.html#cb67-1" tabindex="-1"></a><span class="fu">ipums_view</span>(ddi)</span></code></pre></div>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="lesson-7-exploratory-analysis.html#cb68-1" tabindex="-1"></a>  hhs <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(RELATED <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4200</span>, <span class="dv">4210</span>, <span class="dv">4211</span>, <span class="dv">4220</span>, <span class="dv">4500</span>, <span class="dv">4510</span>, <span class="dv">4600</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb68-2"><a href="lesson-7-exploratory-analysis.html#cb68-2" tabindex="-1"></a>  </span>
<span id="cb68-3"><a href="lesson-7-exploratory-analysis.html#cb68-3" tabindex="-1"></a>  <span class="fu">distinct</span>(YEAR, SERIAL) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">parent_test=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(hhs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>, <span class="st">&quot;SERIAL&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">parent_test=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(parent_test),<span class="cn">FALSE</span>,<span class="cn">TRUE</span>))</span>
<span id="cb68-4"><a href="lesson-7-exploratory-analysis.html#cb68-4" tabindex="-1"></a></span>
<span id="cb68-5"><a href="lesson-7-exploratory-analysis.html#cb68-5" tabindex="-1"></a>  hhs <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(RELATED <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4100</span>, <span class="dv">4110</span>, <span class="dv">4120</span>, <span class="dv">4130</span>, <span class="dv">4300</span>, <span class="dv">4301</span>, <span class="dv">4302</span>)) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(YEAR, SERIAL) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">children_test=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(hhs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEAR&quot;</span>, <span class="st">&quot;SERIAL&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">children_test=</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(children_test),<span class="cn">FALSE</span>,<span class="cn">TRUE</span>))</span></code></pre></div>
<div id="parents-supporting-parents" class="section level5 unnumbered hasAnchor">
<h5>Parents Supporting Parents<a href="lesson-7-exploratory-analysis.html#parents-supporting-parents" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="lesson-7-exploratory-analysis.html#cb69-1" tabindex="-1"></a><span class="fu">plot</span>(to_plot<span class="sc">$</span>YEAR, to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_extended, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">6</span>,.<span class="dv">8</span>), <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">ylim =</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">25</span>), <span class="at">bg =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;pct of hhs with extended family&quot;</span>)</span>
<span id="cb69-2"><a href="lesson-7-exploratory-analysis.html#cb69-2" tabindex="-1"></a></span>
<span id="cb69-3"><a href="lesson-7-exploratory-analysis.html#cb69-3" tabindex="-1"></a></span>
<span id="cb69-4"><a href="lesson-7-exploratory-analysis.html#cb69-4" tabindex="-1"></a><span class="fu">lines</span>(glm_hist_x,glm_hist_y, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">3</span>, <span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb69-5"><a href="lesson-7-exploratory-analysis.html#cb69-5" tabindex="-1"></a><span class="fu">lines</span>(glm_mod_x, glm_mod_y, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">3</span>, <span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb69-6"><a href="lesson-7-exploratory-analysis.html#cb69-6" tabindex="-1"></a></span>
<span id="cb69-7"><a href="lesson-7-exploratory-analysis.html#cb69-7" tabindex="-1"></a></span>
<span id="cb69-8"><a href="lesson-7-exploratory-analysis.html#cb69-8" tabindex="-1"></a><span class="fu">lines</span>(mods_plots<span class="sc">$</span>hist<span class="sc">$</span>n_parent,<span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">8</span>, .<span class="dv">3</span>,<span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb69-9"><a href="lesson-7-exploratory-analysis.html#cb69-9" tabindex="-1"></a></span>
<span id="cb69-10"><a href="lesson-7-exploratory-analysis.html#cb69-10" tabindex="-1"></a><span class="fu">lines</span>(mods_plots<span class="sc">$</span>mod<span class="sc">$</span>n_parent, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">8</span>, .<span class="dv">3</span>,<span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb69-11"><a href="lesson-7-exploratory-analysis.html#cb69-11" tabindex="-1"></a></span>
<span id="cb69-12"><a href="lesson-7-exploratory-analysis.html#cb69-12" tabindex="-1"></a><span class="fu">points</span>(to_plot<span class="sc">$</span>YEAR,</span>
<span id="cb69-13"><a href="lesson-7-exploratory-analysis.html#cb69-13" tabindex="-1"></a>       to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_parent,</span>
<span id="cb69-14"><a href="lesson-7-exploratory-analysis.html#cb69-14" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">23</span>,</span>
<span id="cb69-15"><a href="lesson-7-exploratory-analysis.html#cb69-15" tabindex="-1"></a>       <span class="at">bg =</span> <span class="fu">hsv</span>(.<span class="dv">8</span>, .<span class="dv">6</span>,.<span class="dv">8</span>))</span>
<span id="cb69-16"><a href="lesson-7-exploratory-analysis.html#cb69-16" tabindex="-1"></a></span>
<span id="cb69-17"><a href="lesson-7-exploratory-analysis.html#cb69-17" tabindex="-1"></a></span>
<span id="cb69-18"><a href="lesson-7-exploratory-analysis.html#cb69-18" tabindex="-1"></a><span class="fu">points</span>(to_plot<span class="sc">$</span>YEAR,</span>
<span id="cb69-19"><a href="lesson-7-exploratory-analysis.html#cb69-19" tabindex="-1"></a>       to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_extended,</span>
<span id="cb69-20"><a href="lesson-7-exploratory-analysis.html#cb69-20" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">23</span>,</span>
<span id="cb69-21"><a href="lesson-7-exploratory-analysis.html#cb69-21" tabindex="-1"></a>       <span class="at">bg =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>,.<span class="dv">6</span>,.<span class="dv">8</span>))</span></code></pre></div>
</div>
<div id="parents-supporting-extended-children" class="section level5 unnumbered hasAnchor">
<h5>Parents Supporting (extended) children<a href="lesson-7-exploratory-analysis.html#parents-supporting-extended-children" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="lesson-7-exploratory-analysis.html#cb70-1" tabindex="-1"></a><span class="fu">plot</span>(to_plot<span class="sc">$</span>YEAR, to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_extended, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">6</span>,.<span class="dv">8</span>), <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">ylim =</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">25</span>), <span class="at">bg =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;pct of hhs with extended family&quot;</span>)</span>
<span id="cb70-2"><a href="lesson-7-exploratory-analysis.html#cb70-2" tabindex="-1"></a></span>
<span id="cb70-3"><a href="lesson-7-exploratory-analysis.html#cb70-3" tabindex="-1"></a></span>
<span id="cb70-4"><a href="lesson-7-exploratory-analysis.html#cb70-4" tabindex="-1"></a><span class="fu">lines</span>(glm_hist_x,glm_hist_y, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">3</span>, <span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb70-5"><a href="lesson-7-exploratory-analysis.html#cb70-5" tabindex="-1"></a><span class="fu">lines</span>(glm_mod_x, glm_mod_y, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>, .<span class="dv">3</span>, <span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb70-6"><a href="lesson-7-exploratory-analysis.html#cb70-6" tabindex="-1"></a></span>
<span id="cb70-7"><a href="lesson-7-exploratory-analysis.html#cb70-7" tabindex="-1"></a></span>
<span id="cb70-8"><a href="lesson-7-exploratory-analysis.html#cb70-8" tabindex="-1"></a></span>
<span id="cb70-9"><a href="lesson-7-exploratory-analysis.html#cb70-9" tabindex="-1"></a><span class="fu">lines</span>(mods_plots<span class="sc">$</span>hist<span class="sc">$</span>n_children, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">55</span>,.<span class="dv">3</span>,<span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb70-10"><a href="lesson-7-exploratory-analysis.html#cb70-10" tabindex="-1"></a></span>
<span id="cb70-11"><a href="lesson-7-exploratory-analysis.html#cb70-11" tabindex="-1"></a></span>
<span id="cb70-12"><a href="lesson-7-exploratory-analysis.html#cb70-12" tabindex="-1"></a><span class="fu">lines</span>(mods_plots<span class="sc">$</span>mod<span class="sc">$</span>n_children, <span class="at">col =</span> <span class="fu">hsv</span>(.<span class="dv">55</span>,.<span class="dv">3</span>,<span class="dv">1</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb70-13"><a href="lesson-7-exploratory-analysis.html#cb70-13" tabindex="-1"></a></span>
<span id="cb70-14"><a href="lesson-7-exploratory-analysis.html#cb70-14" tabindex="-1"></a></span>
<span id="cb70-15"><a href="lesson-7-exploratory-analysis.html#cb70-15" tabindex="-1"></a><span class="fu">points</span>(to_plot<span class="sc">$</span>YEAR,</span>
<span id="cb70-16"><a href="lesson-7-exploratory-analysis.html#cb70-16" tabindex="-1"></a>       to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_children,</span>
<span id="cb70-17"><a href="lesson-7-exploratory-analysis.html#cb70-17" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">23</span>,</span>
<span id="cb70-18"><a href="lesson-7-exploratory-analysis.html#cb70-18" tabindex="-1"></a>       <span class="at">bg =</span> <span class="fu">hsv</span>(.<span class="dv">55</span>,.<span class="dv">6</span>,.<span class="dv">8</span>))</span>
<span id="cb70-19"><a href="lesson-7-exploratory-analysis.html#cb70-19" tabindex="-1"></a></span>
<span id="cb70-20"><a href="lesson-7-exploratory-analysis.html#cb70-20" tabindex="-1"></a><span class="fu">points</span>(to_plot<span class="sc">$</span>YEAR,</span>
<span id="cb70-21"><a href="lesson-7-exploratory-analysis.html#cb70-21" tabindex="-1"></a>       to_plot<span class="sc">$</span>pct<span class="sc">$</span>n_extended,</span>
<span id="cb70-22"><a href="lesson-7-exploratory-analysis.html#cb70-22" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">23</span>,</span>
<span id="cb70-23"><a href="lesson-7-exploratory-analysis.html#cb70-23" tabindex="-1"></a>       <span class="at">bg =</span> <span class="fu">hsv</span>(.<span class="dv">95</span>,.<span class="dv">6</span>,.<span class="dv">8</span>))</span></code></pre></div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lesson-6-introduction-to-ipums.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lesosn-8-hypothesis-testing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
